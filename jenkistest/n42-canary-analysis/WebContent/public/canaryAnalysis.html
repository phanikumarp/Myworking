<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="text/javascript"
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.js"></script>
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.18/angular-ui-router.js"></script>
<!-- <link rel="stylesheet" href="css/bootstrap.css">
 -->
<link rel="stylesheet" href="css/main.css">
<!-- <link rel="stylesheet" href="css/bootstrap.min.css">
 -->
<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script
	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.1/nv.d3.min.css"/>    
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.9/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.1/nv.d3.min.js"></script>
    <script src="/bower_components/bootstrap-treefy/dist/bootstrap-treefy.js"></script>
    <link rel="stylesheet" href="/bower_components/bootstrap-treefy/dist/css/bootstrap-treefy.css">
    
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="js/n42App.js"></script>
<script>


</script>
</head>
<body>
<div style="width:100%;"  class="container" ng-app="myApp" ng-controller="myCtrl">
	<div style="width:70%;float:left;">
		<div class="panel-heading">
			<div class="row">
				<div class="col-sm-2">
					<h3>Canary Score</h3>
				</div>
				<div class="col-sm-1">
					<h3>:</h3>
				</div>
				<div class="col-sm-2">
					<h3>{{canaryData.canary_output.canaryFinalScore}}</h3>
				</div>
				<div class="col-sm-2"
					ng-if="canaryData.canary_output.canaryFinalColor =='green'"
					style="color: white;">
					<h3>
						<button class="btn btn-sm btn-success">PASS</button>
					</h3>
				</div>
				<div class="col-sm-2"
					ng-if="canaryData.canary_output.canaryFinalColor =='red'">
					<h3>
						<button type="button" class="btn btn-sm btn-danger">FAIL</button>
					</h3>
				</div>
				<div class="col-sm-2"
					ng-if="canaryData.canary_output.canaryFinalColor =='yellow'"
					style="color: white;">
					<h3>
						<button type="button" class="btn btn-sm btn-warning">WARNING</button>
					</h3>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-2">
					<strong>Canary Name</strong>
				</div>
				<div class="col-sm-1">:</div>
				<div class="col-sm-2">{{canaryData.canary_output.name}}</div>
			</div>
			<div class="row">
				<div class="col-sm-2">
					<strong>Canary Id</strong>
				</div>
				<div class="col-sm-1">:</div>
				<div class="col-sm-2">{{canaryData.canary_output.canaryId}}</div>
			</div>

			<div class="row">
				<div class="col-sm-2">
					<strong>Launched Date</strong>
				</div>
				<div class="col-sm-1">:</div>
				<div class="col-sm-3">{{canaryData.canary_output.launchedDate}}</div>
			</div>

			<div class="row">
				<div class="col-sm-2">
					<strong>End Date</strong>
				</div>
				<div class="col-sm-1">:</div>
				<div class="col-sm-3">{{canaryData.canary_output.endDate}}</div>
			</div>

			<div class="row">
				<div class="col-sm-2">
					<strong>Duration</strong>
				</div>
				<div class="col-sm-1">:</div>
				<div class="col-sm-2">{{canaryData.canary_output.duration}}</div>
			</div>

			<div class="row">
				<div class="col-sm-2">
					<strong>Health Message</strong>
				</div>
				<div class="col-sm-1">:</div>
				<div class="col-sm-2">{{canaryData.canary_output.healthMessage}}</div>
			</div>

			<div class="row">
				<div class="col-sm-2">
					<strong>Health</strong>
				</div>
				<div class="col-sm-1">:</div>
				<div class="col-sm-2">{{canaryData.canary_output.health}}</div>
			</div>

			<div class="row">
				<div class="col-sm-2">
					<strong>Status</strong>
				</div>
				<div class="col-sm-1">:</div>
				<div class="col-sm-2">{{canaryData.canary_output.status}}</div>
			</div>
		</div>

		<div  class="panel-body">
			<h3>Metric Analysis</h3>
			<div class="col-xs-6">
				<div class="row">
					<form role="form">
					 <label class="checkbox-inline">Show :</label>
						<label class="checkbox-inline"> <input type="checkbox"
							ng-click="includeColour('green')" ng-model="pass" value="">Pass
						</label> <label class="checkbox-inline"> <input type="checkbox"
							ng-click="includeColour('red')" value="">Fail
						</label> <label class="checkbox-inline"> <input type="checkbox"
							ng-click="includeColour('yellow')" value="">Low
						</label><span style="font-size: 16px; margin-left:20px">Filter </span> <span
							class="filter"> <input id="search" type="text" ng-model="search"
							placeholder="Search" /></span>
					</form>

				</div><br>
				
				
				
				<table class="table table-hover" class="panel-heading">
					<thead class="blue">
						<tr>
							<th>Group Name</th>
							<th class="align-text">Metrics</th>
							<th class="align-text">Score</th>
							<th class="align-text">Health Status</th>
						</tr>
					</thead>
					<tbody>
						<tr data-toggle="collapse" data-target="#{{$index}}"
							class="accordion"
							ng-repeat="canary in canaryData.canary_output.results | filter:colourFilter | filter:search">
							<td ><button class="btn btn-default btn-xs">
									<span class="glyphicon glyphicon-chevron-down"></span>
								</button> {{canary.name}} <span class="hiddenRow">
									<div class="collapse" id="{{$index}}" class="col-xs-13">
										<table class="table table-hover">
											<thead>
												<tr>
													<th>Metric Name</th>
													<th>Score</th>
													<th>Status</th>
												</tr>
											</thead>

											<tbody>
												<tr class="table-hover"
													ng-repeat="metrics in canary.metricList track by $index  | filter:search"
													ng-model="metrics" ng-click="getMetric(metrics)">
													<td>{{metrics.metricName}}</td>
													<td class="align-text">{{metrics.metricScore}}</td>
													<td class="align-text"
														ng-if="metrics.metricColor =='green'"
														style="color: white;"><button type="button"
															class="button-padding" class="btn btn-xs btn-success">PASS</button></td>
													<td class="align-text" ng-if="metrics.metricColor =='red'"
														style="color: white;"><button type="button"
															class="button-high-padding" class="btn btn-xs btn-danger">FAIL</button></td>
													<td class="align-text"
														ng-if="metrics.metricColor =='yellow'"
														style="color: white;"><button type="button"
															class="btn btn-xs btn-warning">WARNING</button></td>
												</tr>
											</tbody>
										</table>
									</div>
							</span></td>
							<td class="align-text"><span
								ng-repeat="metrics in canary.metricList"
								ng-init="count = $index" ng-show="$last"> {{$index+1}} </span></td>
							<td class="align-text">{{canary.groupScore}}</td>
							<td class="align-text" ng-if="canary.groupColor =='green'"
								style="color: white;"><button type="button"
									class="button-padding" ng-model="pass"
									class="btn btn-xs btn-success">PASS</button></td>
							<td class="align-text" ng-if="canary.groupColor =='red'"
								style="color: white;"><button type="button"
									class="button-high-padding" class="btn btn-xs btn-danger">FAIL</button></td>
							<td class="align-text" ng-if="canary.groupColor =='yellow'"
								style="color: white;"><button type="button"
									class="btn btn-xs btn-warning">WARNING</button></td>
						</tr>
					</tbody>
				</table>

					 <table ng-show="version" class="table table-striped table-bordered">
						<thead>
							<tr data-toggle="collapse">
								<th>Versions</th>
								<th>Median</th>
								<th>First Quantile</th>
								<th>Mean</th>
								<th>Third Quantile</th>
								<th>Min</th>
								<th>Max</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="values in metricData.stats track by $index">
								<td>version{{$index+1}}</td>
								<td>{{values.Median}}</td>
								<td>{{values.1stQuantile}}</td>
								<td>{{values.Mean}}</td>
								<td>{{values.3rdQuantile}}</td>
								<td>{{values.Min}}</td>
								<td>{{values.Max}}</td>

							</tr>
						</tbody>
					</table>
			</div>
		</div>
		</div>
		<div style="width:30%; float:left; margin-top:80px;">
			<select ng-model="versionss"
				ng-options="version.version for version in versionsData.versions">
				<option value="">-- Select Version 1 --</option>
			</select> <select ng-model="version2"
				ng-options="version.version for version in versionsData.versions">
				<option value="">-- Select Version 2 --</option>
			</select>
			<button class="btn btn-sm btn-primary">GO</button>
		</div>
		<div>
		</div>
	</div>
</body>
</html>