package com.n42.analytics.services;


import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;

import n42.domain.model.CasServiceMetricDetails;
import n42.domain.model.SVCResult;
import n42.domain.model.SVCServiceMetricDetails;
import n42.domain.model.SVCVersion;

import org.apache.commons.lang3.StringUtils;
import org.apache.commons.lang3.math.NumberUtils;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;

import com.n42.analytics.hibernate.dao.CasServiceMetricDetailsDao;
import com.n42.analytics.hibernate.dao.CasServiceMetricDetailsDaoImpl;
import com.n42.analytics.hibernate.dao.SVCResultDao;
import com.n42.analytics.hibernate.dao.SVCResultDaoImpl;
import com.n42.analytics.hibernate.dao.SVCServiceMetricDetailsDao;
import com.n42.analytics.hibernate.dao.SVCServiceMetricDetailsDaoImpl;
import com.n42.analytics.hibernate.dao.SVCVersionDao;
import com.n42.analytics.hibernate.dao.SVCVersionDaoImpl;
import com.n42.analytics.util.JSONUtils;

public class SVCInput {

	JSONObject service = new JSONObject();
	JSONObject serviceObject = new JSONObject();
	JSONObject tagsData = new JSONObject();
	JSONObject time = new JSONObject();
	JSONObject version1 = new JSONObject();
	JSONObject version2 = new JSONObject();
	JSONArray metrics = new JSONArray();

	CasServiceMetricDetailsDao casMetricDetails = new CasServiceMetricDetailsDaoImpl();
	List<CasServiceMetricDetails> casMertic =casMetricDetails.getAllCasServiceMetricDetails();
	SVCResultExtractor extractor = new SVCResultExtractor();


	@SuppressWarnings("unchecked")
	public String svcComparision(String serviceName,String ver1,String ver2) throws IOException{

		JSONArray metrics1 = new JSONArray();
		SVCVersionDao svcVersionDao = new SVCVersionDaoImpl();
		SVCVersion v1= svcVersionDao.getSVCVersionDetails(ver1);
		SVCVersion v2= svcVersionDao.getSVCVersionDetails(ver2);

		SVCResultDao svcResultDao = new SVCResultDaoImpl();
		SVCResult svcResult = svcResultDao.getSVCResult(serviceName, ver1, ver2);

		SVCServiceMetricDetailsDao serviceMetricsDao = new SVCServiceMetricDetailsDaoImpl();
		ArrayList<SVCServiceMetricDetails> serviceMetrics = (ArrayList<SVCServiceMetricDetails>) serviceMetricsDao.getServiceMetricsbyService(serviceName);

		if(svcResult == null) {
			int flag1=0;
			for(CasServiceMetricDetails metricdetails1 : casMertic){

				JSONArray tagList1 = new JSONArray();
				JSONObject metricTypevsValue = new JSONObject();
				JSONObject aggregator = new JSONObject();
				String MetricType = metricdetails1.getMetricType();
				String MetricName = metricdetails1.getMetricName();
				String metricAgg =  metricdetails1.getKairosAggregator();

				/////////////////////////////////////////////
				if(flag1==0){
					for(SVCServiceMetricDetails serviceMetricsdetails : serviceMetrics){

						tagList1 = new JSONArray();
						metricTypevsValue = new JSONObject();
						metricTypevsValue.put("metricName", serviceMetricsdetails.getMetricName());
						metricTypevsValue.put("metricType", serviceMetricsdetails.getMetricType());
						tagsData.put("tagName", "host");
						tagsData.put("tagValue", "insure-qa");
						aggregator.put("unit", "seconds");
						aggregator.put("Function", "sum");

						tagList1.add(tagsData);
						metricTypevsValue.put("tagsData", tagList1);

						metricTypevsValue.put("aggregator", aggregator);
						metrics1.add(metricTypevsValue);

					}
					flag1++;
				}

				////////////////////////////////////////////

				tagList1 = new JSONArray();
				metricTypevsValue = new JSONObject();

				metricTypevsValue.put("metricName", MetricName);
				metricTypevsValue.put("metricType", MetricType);
				tagsData.put("tagName", "host");
				tagsData.put("tagValue", "insure-qa");
				aggregator.put("unit", "seconds");
				if(StringUtils.equalsIgnoreCase("http.requests", MetricName)){
					aggregator.put("time", "10");
				}
				else{
					aggregator.put("time", "1");
				}
				aggregator.put("Function", metricAgg);


				tagList1.add(tagsData);
				metricTypevsValue.put("tagsData", tagList1);

				metricTypevsValue.put("aggregator", aggregator);
				metrics1.add(metricTypevsValue);

			}

			version1.put("startTime",NumberUtils.toLong(v1.getStartTime()));
			version1.put("endTime",NumberUtils.toLong(v1.getEndTime()));
			version1.put("metrics", metrics1);


			JSONArray metrics2 = new JSONArray();
			int flag2=0;
			for(CasServiceMetricDetails metricdetails2 : casMertic){

				JSONArray tagList2 = new JSONArray();

				JSONObject metricTypevsValue = new JSONObject();
				JSONObject aggregator = new JSONObject();
				String MetricType = metricdetails2.getMetricType();
				String MetricName = metricdetails2.getMetricName();
				String metricAgg =  metricdetails2.getKairosAggregator();

				/////////////////////////////////////////////
				if(flag2==0){
					for(SVCServiceMetricDetails serviceMetricsdetails : serviceMetrics){

						tagList2 = new JSONArray();
						metricTypevsValue = new JSONObject();

						metricTypevsValue.put("metricName", serviceMetricsdetails.getMetricName());
						metricTypevsValue.put("metricType", serviceMetricsdetails.getMetricType());
						tagsData.put("tagName", "host");
						tagsData.put("tagValue", "insure-qa");
						aggregator.put("unit", "");
						aggregator.put("Function", "");

						tagList2.add(tagsData);
						metricTypevsValue.put("tagsData", tagList2);

						metricTypevsValue.put("aggregator", aggregator);
						metrics2.add(metricTypevsValue);

					}
					flag2++;
				}

				////////////////////////////////////////////

				tagList2 = new JSONArray();
				metricTypevsValue = new JSONObject();

				metricTypevsValue.put("metricName", MetricName);
				metricTypevsValue.put("metricType", MetricType);
				tagsData.put("tagName", "host");
				tagsData.put("tagValue", "insure-qa");
				aggregator.put("unit", "seconds");
				if(StringUtils.equalsIgnoreCase("http.requests", MetricName)){
					aggregator.put("time", "10");
				}
				else{
					aggregator.put("time", "1");
				}
				aggregator.put("Function", metricAgg);


				tagList2.add(tagsData);
				metricTypevsValue.put("tagsData", tagList2);
				metricTypevsValue.put("aggregator", aggregator);
				metrics2.add(metricTypevsValue);

			}

			version2.put("startTime",NumberUtils.toLong(v2.getStartTime()));
			version2.put("endTime",NumberUtils.toLong(v2.getEndTime()));
			version2.put("metrics", metrics2);

			service.put("serviceName",serviceName);
			service.put("version1",version1);
			service.put("version2",version2);
			service.put("version1Name", ver1);
			service.put("version2Name", ver2);


			serviceObject.put("service", service);

			String inputToR = JSONUtils.getFormattedJson(serviceObject);
			System.out.println(inputToR);
			//			  String inputTo ="{  \n   \"service\":{  \n      \"serviceName\":\"n42\",\n      \"version2\":{\n\t \"startTime\":1468314000000,\n\t \"endTime\":1468317600000,\n         \"metrics\":[  \n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"10\",\n                  \"Function\":\"sum\"\n               },\n               \"metricType\":\"load\",\n               \"metricName\":\"http.requests\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"response\",\n               \"metricName\":\"http.responsetime\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"response\",\n               \"metricName\":\"http.bytes_read\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"cpu\",\n               \"metricName\":\"system.io.numprocesswaiting\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"memory\",\n               \"metricName\":\"system.mem.swap.in\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"memory\",\n               \"metricName\":\"system.mem.swap.out\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"cpu\",\n               \"metricName\":\"system.cpu.numprocesswaiting\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"cpu\",\n               \"metricName\":\"system.cpu.iowait\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"disk\",\n               \"metricName\":\"system.disk.blocks.write\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"memory\",\n               \"metricName\":\"system.mem.swap.total\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.bytes_send\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.bytes_rcvd\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.packets_in.error\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.packets_out.drops\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.received_rate\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.packets_in.drops\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.packets_out.error\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"cpu\",\n               \"metricName\":\"system.cpu.util\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"disk\",\n               \"metricName\":\"system.disk.blocks.read\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"memory\",\n               \"metricName\":\"system.mem.util\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.transmit_rate\"\n            }\n         ]\n      },\n      \"version1\":{\n\t \"startTime\":1468307700000,\n\t \"endTime\":1468311300000,  \n         \"metrics\":[\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"10\",\n                  \"Function\":\"sum\"\n               },\n               \"metricType\":\"load\",\n               \"metricName\":\"http.requests\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"response\",\n               \"metricName\":\"http.responsetime\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"response\",\n               \"metricName\":\"http.bytes_read\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"cpu\",\n               \"metricName\":\"system.io.numprocesswaiting\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"memory\",\n               \"metricName\":\"system.mem.swap.in\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"memory\",\n               \"metricName\":\"system.mem.swap.out\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"cpu\",\n               \"metricName\":\"system.cpu.numprocesswaiting\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"cpu\",\n               \"metricName\":\"system.cpu.iowait\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"disk\",\n               \"metricName\":\"system.disk.blocks.write\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"memory\",\n               \"metricName\":\"system.mem.swap.total\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.bytes_send\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.bytes_rcvd\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.packets_in.error\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.packets_out.drops\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.received_rate\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.packets_in.drops\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"count\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.packets_out.error\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"cpu\",\n               \"metricName\":\"system.cpu.util\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"disk\",\n               \"metricName\":\"system.disk.blocks.read\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"memory\",\n               \"metricName\":\"system.mem.util\"\n            },\n            {  \n               \"tagsData\":[  \n                  {  \n                     \"tagName\":\"host\",\n                     \"tagValue\":\"insure-qa\"\n                  }\n               ],\n               \"aggregator\":{  \n                  \"unit\":\"seconds\",\n                  \"time\":\"1\",\n                  \"Function\":\"avg\"\n               },\n               \"metricType\":\"network\",\n               \"metricName\":\"system.net.transmit_rate\"\n            }\n         ]\n      }\n   }\n}";
			//            String inputTo = "{\n\t\"service\": {\n\t\t\"version2\": {\n\t\t\t\"startTime\": 1468314000000,\n\t\t\t\"endTime\": 1468317600000,\n\t\t\t\"metrics\": [{\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.packets_in.drops\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"count\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.packets_out.error\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"count\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.bytes_send\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.bytes_rcvd\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"response\",\n\t\t\t\t\"metricName\": \"http.responsetime\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.received_rate\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.transmit_rate\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"load\",\n\t\t\t\t\"metricName\": \"http.requests\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"sum\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"10\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"cpu\",\n\t\t\t\t\"metricName\": \"system.cpu.iowait\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"cpu\",\n\t\t\t\t\"metricName\": \"system.cpu.util\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"memory\",\n\t\t\t\t\"metricName\": \"system.mem.util\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"memory\",\n\t\t\t\t\"metricName\": \"system.mem.swap.total\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"memory\",\n\t\t\t\t\"metricName\": \"system.mem.swap.out\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"memory\",\n\t\t\t\t\"metricName\": \"system.mem.swap.in\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"disk\",\n\t\t\t\t\"metricName\": \"system.disk.blocks.write\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"disk\",\n\t\t\t\t\"metricName\": \"system.disk.blocks.read\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"cpu\",\n\t\t\t\t\"metricName\": \"system.cpu.numprocesswaiting \",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.packets_in.error\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"count\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.packets_out.drops\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"count\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}]\n\t\t},\n\t\t\"version1\": {\n\t\t\t\"startTime\": 1468307700000,\n\t\t\t\"endTime\": 1468311300000,\n\t\t\t\"metrics\": [{\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.packets_in.drops\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"count\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.packets_out.error\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"count\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.bytes_send\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.bytes_rcvd\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"response\",\n\t\t\t\t\"metricName\": \"http.responsetime\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.received_rate\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.transmit_rate\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"load\",\n\t\t\t\t\"metricName\": \"http.requests\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"sum\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"10\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"cpu\",\n\t\t\t\t\"metricName\": \"system.cpu.iowait\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"cpu\",\n\t\t\t\t\"metricName\": \"system.cpu.util\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"memory\",\n\t\t\t\t\"metricName\": \"system.mem.util\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"memory\",\n\t\t\t\t\"metricName\": \"system.mem.swap.total\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"memory\",\n\t\t\t\t\"metricName\": \"system.mem.swap.out\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"memory\",\n\t\t\t\t\"metricName\": \"system.mem.swap.in\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"disk\",\n\t\t\t\t\"metricName\": \"system.disk.blocks.write\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"disk\",\n\t\t\t\t\"metricName\": \"system.disk.blocks.read\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"cpu\",\n\t\t\t\t\"metricName\": \"system.cpu.numprocesswaiting \",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"avg\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.packets_in.error\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"count\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\t\"metricType\": \"network\",\n\t\t\t\t\"metricName\": \"system.net.packets_out.drops\",\n\t\t\t\t\"aggregator\": {\n\t\t\t\t\t\"Function\": \"count\",\n\t\t\t\t\t\"unit\": \"seconds\",\n\t\t\t\t\t\"time\": \"1\"\n\t\t\t\t},\n\t\t\t\t\"tagsData\": [{\n\t\t\t\t\t\"tagValue\": \"insure-qa\",\n\t\t\t\t\t\"tagName\": \"host\"\n\t\t\t\t}]\n\t\t\t}]\n\t\t},\n\t\t\"serviceName\": \"n42\"\n\t}\n}";
			Process shell = Runtime.getRuntime().exec(new String[] { "/usr/bin/Rscript","/home/ipsg/lalit/canaryplusversion.4.R",inputToR});
			BufferedReader reader = new BufferedReader(new InputStreamReader(shell.getInputStream()));
			String line;
			while ((line = reader.readLine()) != null) {
				System.out.println(line);
			}

			System.out.println("###############@@@@@@@@@@@@@##################3");
			System.out.println(System.currentTimeMillis() + " Start calling extractor form R this time ***************");
			String outIfPresent = extractor.SVCExtractor(serviceName, ver1, ver2);
			return outIfPresent;
		}

		System.out.println(System.currentTimeMillis() + "Start calling extractor from  program this time");
		String outIfPresent = extractor.SVCExtractor(serviceName, ver1, ver2);
		return outIfPresent;
		//				return "hello";

	}


	public static void main (String args[]) throws IOException{
		SVCInput in = new SVCInput();
		in.svcComparision("MySQL","v1.0","v1.1");

	}

}
